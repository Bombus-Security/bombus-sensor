/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

/*
 * Sets up the docker build container, copies all needed files into it, execs the 
 * build script on the container, and retrieves the built package.
 */
task makeAlpinePackage(type: Exec)
{
	workingDir './alpine'
	commandLine 'sh', './gradle-build-package.sh'

}

task makeDockerImages()
{
}

task copyZeekConfigToELKTemp(type: Copy)
{
	from "zeek/local.zeek", "zeek/zeek-filebeat.yml", "zeek/node.cfg"
	into "docker/temp"
}

task copyWazuhConfigToELKTemp(type: Copy)
{
        from "wazuh/wazuh-filebeat.yml", "wazuh/wazuh-template.json"
        into "docker/temp"
}

task copyELKConfigToELKTemp(type: Copy)
{
        from "elk/logstash.yml", "elk/logstash-pipeline.conf"
        into "docker/temp"
}

task copyAllConfigToELKTemp()
{
	dependsOn 'copyELKConfigToELKTemp', 'copyWazuhConfigToELKTemp', 'copyZeekConfigToELKTemp'
}
